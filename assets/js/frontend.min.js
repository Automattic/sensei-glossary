var senseiPopupPrototype=function(t,o){var s=o||'a[rel="sensei-glossary"] ';this.getLinkQueryId=function(){return this.queryId},this.popupClickListener=function(o){o.preventDefault(),popupContent=t(o.target).data("glossary-content"),this.glossaryPopup(popupContent)},t(s).on("click",t.proxy(this.popupClickListener,this)),this.glossaryPopup=function(o){0==t("#sensei-glossary-popup").size()&&(this.theLightbox=t('<div id="sensei-glossary-popup"/>'),this.theShadow=t('<div id="sensei-glossary-shadow"/>'),t("body").append(this.theShadow),t("body").append(this.theLightbox)),this.theLightbox.empty(),this.theLightbox.append(o),this.theLightbox.css("top",t(window).scrollTop()+100+"px"),this.theLightbox.show(),this.theShadow.show(),this.adjustShadow(),t(this.theShadow).click(t.proxy(this.closeLightbox,this)),t(document).keyup(t.proxy(function(t){27==t.keyCode&&this.closeLightbox()},this)),t(window).scroll(t.proxy(this.adjustShadow,this))},this.closeLightbox=function(){this.theLightbox.hide(),this.theShadow.hide(),this.theLightbox.empty(),t(document).unbind("keyup",this.closeLightbox),t(window).unbind("scroll",this.adjustShadow),t(this.theShadow).unbind("click",this.closeLightbox)},this.adjustShadow=function(){var o=t(window).scrollTop();this.theShadow.css("top",o)}};window.senseiPopup=new senseiPopupPrototype(jQuery);